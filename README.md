# 遊戲系統前後端模組劃分

## 前端（客戶端）模組

1.  客戶端邏輯模組 (React、Recoil)

- 輸入控制系統
- 本地遊戲狀態管理

2. 網絡通信模組 (Socket.IO)

- 網絡連接管理
- 消息序列化/反序列化
- 狀態同步處理

3. 客戶端 UI 模組 (React)

- HUD 界面
- 選單系統
- 提示信息系統

## 後端（服務器）模組

1. 核心服務模組 (Node.js, express, socket.io)

- 遊戲邏輯處理器
- 房間/匹配系統
- 戰鬥計算系統
- 連鎖處理機制
- 階段處理機制

2. 數據持久化模組 (MongoDB)

- 數據載入器
- 緩存系統(30s)

3. 服務器網絡模組 (Socket.IO)

- 連接池管理

4. 後端業務模組

- 成就系統 (未定)

## 共享模組（前後端共用）

1. 協議定義 (protobuf)

- 網絡協議結構
- API 接口定義
- 錯誤碼規範

2. 工具模組 (winston)

- 日誌系統
- 調試工具

3. 通用邏輯

- 算法庫
- 常量定義
- 工具函數

## 遊戲邏輯

ChainManager: 處理連鎖問題
Event: 某個角色的動作

- Event.target.result:結果(石頭水晶、傷害、治療、棄牌)

## 初始化載入

資料格式:JSON
儲存對象:

- 角色
- 技能
- 卡牌
